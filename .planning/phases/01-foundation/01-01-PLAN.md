---
phase: 01-foundation
plan: 01
type: execute
---

<objective>
Create Page collection with Hero, Content, and Footer section structure using Payload's array and block fields.

Purpose: Establish the foundational page architecture that all block types will plug into. This three-section structure provides content consistency while allowing flexibility within each section.
Output: Working Page collection with section arrays, placeholder blocks, and generated TypeScript types.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/ARCHITECTURE.md
@.planning/codebase/CONVENTIONS.md
@dev/payload.config.ts
@src/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Page collection with section structure</name>
  <files>dev/collections/Pages.ts, dev/payload.config.ts</files>
  <action>
Create `dev/collections/Pages.ts` with a Page collection containing:

1. Basic fields:
   - `title` (text, required) - Page title
   - `slug` (text, required, unique) - URL slug

2. Three section array fields, each using Payload's `blocks` field type:
   - `hero` - Array of blocks for hero section (max 1 block for now)
   - `content` - Array of blocks for main content area
   - `footer` - Array of blocks for footer section

3. For each section, add a simple placeholder block type with:
   - `heroBlock`: headline (text), subheadline (textarea)
   - `contentBlock`: body (richText using lexicalEditor)
   - `footerBlock`: text (text)

These placeholder blocks will be replaced with real implementations in Phase 2. The structure enables the section-based architecture.

Follow existing conventions:
- Use camelCase for field names
- Export as named export
- No semicolons, single quotes (per .prettierrc.json)

Update `dev/payload.config.ts` to import and add the Pages collection to the collections array.
  </action>
  <verify>pnpm dev starts without errors, Page collection appears in admin panel</verify>
  <done>Page collection exists with hero, content, footer block arrays. Each section accepts its placeholder block type. Dev server runs.</done>
</task>

<task type="auto">
  <name>Task 2: Generate types and verify schema</name>
  <files>dev/payload-types.ts</files>
  <action>
Run `pnpm generate:types` to generate TypeScript types for the new Page collection.

Verify the generated types include:
- Page type with title, slug, hero, content, footer fields
- Block types for heroBlock, contentBlock, footerBlock
- Proper array typing for each section

Run `pnpm lint` to ensure code follows project conventions.
  </action>
  <verify>pnpm generate:types succeeds, pnpm lint passes, Page type exists in payload-types.ts</verify>
  <done>Types generated without errors. Page type includes all section fields with correct block types. No lint errors.</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `pnpm dev` starts without errors
- [ ] `pnpm generate:types` succeeds
- [ ] `pnpm lint` passes
- [ ] Page collection visible in Payload admin
- [ ] Can create a Page with blocks in each section via admin UI
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Page collection has three section arrays (hero, content, footer)
- Each section accepts its placeholder block type
- Types generated and valid
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Foundation Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcomes]

## Files Created/Modified

- `dev/collections/Pages.ts` - Page collection with section structure
- `dev/payload.config.ts` - Added Pages to collections
- `dev/payload-types.ts` - Generated types

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 1 complete, ready for Phase 2: Block Types
</output>
