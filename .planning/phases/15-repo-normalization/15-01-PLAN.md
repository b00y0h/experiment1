---
phase: 15-repo-normalization
plan: 01
type: execute
---

<objective>
Promote /dev to primary app boundary - recognize the dev directory as the main Payload CMS application, not just a test harness.

Purpose: Establish clear project structure for subsequent Block Registry and Frontend Renderer phases. The content model (collections, utils, validators) lives in /dev and is the "real" application. The /src plugin code is legacy template until formal extraction.
Output: Updated documentation, cleaned package.json, clear separation between dev app and plugin template.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./15-01-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@CLAUDE.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update CLAUDE.md to reflect dev as primary app</name>
  <files>CLAUDE.md</files>
  <action>
  Rewrite CLAUDE.md to:
  1. Update "Project Overview" to state that /dev IS the Payload CMS application (not just a test environment)
  2. Change "/src folder contains the plugin source code" to clarify it's the original template code (legacy, pending extraction)
  3. Emphasize that all content model code (collections, utils, validators, endpoints) is in /dev
  4. Update "Architecture" section to list /dev subdirectories (collections/, utils/, validators/, endpoints/, components/)
  5. Keep existing Commands section (already correct)
  6. Add note that "Plugin Entry Points" in /src are template placeholders, not the content model

  Keep existing formatting style. Don't add emojis.
  </action>
  <verify>cat CLAUDE.md shows /dev as primary app, /src as template/legacy</verify>
  <done>CLAUDE.md accurately describes current project structure with /dev as main app</done>
</task>

<task type="auto">
  <name>Task 2: Add dev app structure comments to package.json</name>
  <files>package.json</files>
  <action>
  Update package.json:
  1. Change "description" from "A blank template to get started with Payload 3.0" to "Payload CMS content model for composable landing pages with A/B testing"
  2. Leave all scripts intact (they already prioritize dev app)
  3. Leave exports intact (needed for self-referencing plugin pattern)

  This is a minimal change - just the description to accurately reflect what the project does now.
  </action>
  <verify>cat package.json | grep description shows updated description</verify>
  <done>package.json description reflects actual project purpose</done>
</task>

<task type="auto">
  <name>Task 3: Add src/README.md noting template status</name>
  <files>src/README.md</files>
  <action>
  Create src/README.md with content:
  ```
  # Plugin Source (Template)

  This directory contains the original Payload plugin template code.

  **Current status:** Template/placeholder - not the content model.

  The actual content model implementation lives in `/dev`:
  - `/dev/collections/` - Pages, PageVariants, Experiments, Leads, AnalyticsEvents, ReusableBlocks
  - `/dev/utils/` - Block resolution, variant assignment, visitor ID, experiment stats
  - `/dev/validators/` - Field and page-level validation
  - `/dev/endpoints/` - Resolved page API endpoints
  - `/dev/components/` - Admin dashboard components

  When plugin extraction happens, code from `/dev` will be moved here following the Payload plugin architecture pattern.
  ```

  Keep it concise. This is a pointer to help developers understand the structure.
  </action>
  <verify>cat src/README.md shows template status and points to /dev</verify>
  <done>src/README.md explains template status and directs to /dev for actual code</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] CLAUDE.md describes /dev as primary Payload CMS app
- [ ] package.json description is accurate
- [ ] src/README.md explains template status
- [ ] No breaking changes to existing functionality (dev app still runs)
</verification>

<success_criteria>

- All tasks completed
- Project structure is clearly documented
- New developers can understand /dev is the main app, /src is template
- No code changes that affect functionality
</success_criteria>

<output>
After completion, create `.planning/phases/15-repo-normalization/15-01-SUMMARY.md`
</output>
