---
phase: 02-block-types
plan: 01
type: execute
---

<objective>
Implement Hero and Accordion block types for the Page collection.

Purpose: Replace placeholder hero block with full-featured implementation and add accordion block for expandable content sections.
Output: Working Hero block (headline, subheadline, CTA, media) and Accordion block (expandable items) in Pages collection.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
@dev/collections/Pages.ts
@dev/payload.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement Hero block with full fields</name>
  <files>dev/collections/Pages.ts</files>
  <action>
Replace the placeholder heroBlock in the hero section with a complete implementation:
- headline: text field, required
- subheadline: textarea field, optional
- ctaText: text field for button label, optional
- ctaLink: text field for button URL, optional
- media: upload relationship to media collection, optional

Group CTA fields in a collapsible group named "Call to Action" for better admin UX.
Keep maxRows: 1 on the hero blocks field (only one hero per page).
  </action>
  <verify>pnpm generate:types succeeds without errors</verify>
  <done>Hero block has headline, subheadline, ctaText, ctaLink, and media fields with proper typing</done>
</task>

<task type="auto">
  <name>Task 2: Add Accordion block to content section</name>
  <files>dev/collections/Pages.ts</files>
  <action>
Add accordionBlock to the content section's blocks array alongside contentBlock:
- slug: 'accordionBlock'
- items: array field containing:
  - title: text field, required (the clickable header)
  - content: richText field with lexicalEditor() (the expandable body)

Import lexicalEditor is already present. The accordion block allows multiple expandable sections within a single block instance.
  </action>
  <verify>pnpm generate:types succeeds and pnpm lint passes</verify>
  <done>Accordion block available in content section with items array containing title and rich text content</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm generate:types` succeeds without errors
- [ ] `pnpm lint` passes
- [ ] Hero block has all 5 fields (headline, subheadline, ctaText, ctaLink, media)
- [ ] Accordion block has items array with title and content fields
- [ ] Both blocks appear in generated payload-types.ts
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Hero and Accordion blocks properly typed and available in admin
</success_criteria>

<output>
After completion, create `.planning/phases/02-block-types/02-01-SUMMARY.md`
</output>
